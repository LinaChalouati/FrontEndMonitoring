
<body>
  <!-- SIDEBAR -->
  <section id="sidebar" [ngClass]="status ? 'hide' : ''">
    <a href="#" class="brand"></a>
    <ul class="side-menu top">
      <li >
        <a (click)="goDashboard()">
          <i class='bx bxs-dashboard'></i>
          <span class="text">Project OverView</span>
        </a>
      </li>
      <li [class.active]="selectedItem === 1" (click)="selectItem(1)">
        <a >
          <i class='bx bxs-bell'></i>
          <span class="text">Alerts</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class='bx bxs-shopping-bag-alt'></i>
          <span class="text">Logs</span>
        </a>
      </li>
      <li >
        <a href="#">
          <i class='bx bxs-doughnut-chart'></i>
          <span class="text">Help</span>
        </a>
      </li>
    </ul>
    <ul class="side-menu">
      <li>
        <a href="#">
          <i class='bx bxs-cog'></i>
          <span class="text">Settings</span>
        </a>
      </li>
      <li>
        <a href="#" class="logout">
          <i class='bx bxs-log-out-circle'></i>
          <span class="text">Logout</span>
        </a>
      </li>
    </ul>
  </section>
  <!-- SIDEBAR -->

  <!-- SIDEBAR -->



  <!-- CONTENT -->
  <section id="content">

    <!-- NAVBAR -->
    <nav>
      
      <i (click)="addToggle()" class='bx bx-menu' ></i>
      <form >
        <h1>Set Rules and Alert Settings of {{projectName}}</h1>

      </form>
      <i class="bx bxs-home custom-icon" (click)="goHome()"></i>

      <a href="#" class="notification">

        <i class='bx bxs-bell' ></i>
        <span class="num">0</span>
      </a>

    </nav>
    <!-- NAVBAR -->




    <!-- MAIN -->
    <main>


      <div class="head-title">
        <div class="left">
          <h1>{{projectName}}</h1>
          <ul class="breadcrumb">
            <li>
              <a href="#">Project</a>
            </li>
            <li><i class='bx bx-chevron-right' ></i></li>
            <li>
              <a class="active" >Alerts</a>

            </li>
            <li><i class='bx bx-chevron-right' ></i></li>
            <li>
              <a class="active" >Customize Alerts</a>

            </li>



          </ul>
        </div>


      </div>
  <br>


  <!-- ... -->
  <!-- ... -->



  <!-- ... -->

  <!-- ... -->
      <section>
        <div class="toast2" id="toast2-message"></div>

        <div class="vl"></div>
        <div class="contenuelpopup">

          <br>

          <div class="divider">Alert Description</div>

          <div class="elements">
            <h4>Alert Rule Name</h4>
            <input type="text" name="rulename" [(ngModel)]="ruleName" placeholder="Alert Rule Name">
          </div>
          
            <br>


          <br>
<!--          <div class="instanceselect" *ngIf="appType ==='Microservices Based app'"> -->
            <div class="instanceselect" >

          <h4>Instance</h4>
          <br>
          <div class="multiselect-dropdown" style="width:85%">
            <ng-multiselect-dropdown
              [settings]="dropdownSettings"
              [data]="dropdownList"
              [(ngModel)]="selectedInstances"
              (onSelect)="onInstanceSelect();getTeams()"
              (onSelectAll)="onInstanceSelectAll();getTeams()"
              (onDeSelect)="onInstanceSelect();getTeams()"
              (onDeSelectAll)="onInstanceDeSelectAll()"

              >
            </ng-multiselect-dropdown>
          </div>
    </div>
      </div>
          <br>
          <h4>Metric</h4>

            <div style="width:85%">
              <ng-multiselect-dropdown
              (click)="onDropdownOpen()"
                [settings]="dropdownSettings2"
                [data]="dropdownList2"
                [(ngModel)]="selectedMetrics"
                (onSelect)="onMetricSelect()"
                (onDeSelect)="onMetricDeSelect()">
              </ng-multiselect-dropdown>
          </div>
          <br>
          <h4>Function</h4>
          <div class="valueselect">
          <mat-form-field>
            <mat-label>Function</mat-label>
            <mat-select>
              <mat-option value="option" (click)="supValue()" >></mat-option>
              <mat-option value="option" (click)="infValue()" > < </mat-option>
              <mat-option value="option" (click)="equalValue()" >=</mat-option>


            </mat-select>

             
          </mat-form-field>
          <input type="value" name="time" id="value" [(ngModel)]="value" placeholder="Value">
        </div>
       
          <h4>Severity</h4>

          <mat-chip-listbox name="severity" [(ngModel)]="selectedSeverity">
            <mat-chip-option selected>Warning</mat-chip-option>
            <mat-chip-option>Critical</mat-chip-option>
          </mat-chip-listbox>
          <br>

          <h4>Alert evaluation behavior</h4>
          <h5>For</h5>
          <input type="text" name="time" [(ngModel)]="timeRange" placeholder="Time Range">


          <br>
          <div class="divider">Additional Information</div>

          <h5>Summary</h5>
          <br>
          <input type="text" name="summary" [(ngModel)]="summary" placeholder="Summary">
          <br>
          <br>

          <h5>Description</h5>
          <br>
          <input type="text" name="description" [(ngModel)]="description" placeholder="Description">

          <div class="divider">Notification Settings</div>
          


          <div *ngIf="isTeamsExist">
            <br>

            <h5>Select an Existing Team </h5>

            <mat-chip-listbox [(ngModel)]="selectedTeam" (click)="ExistingTeamSelected()">
              <div  *ngFor="let mail of Teams">
                <mat-chip-option>{{mail}}</mat-chip-option>
              </div>
            </mat-chip-listbox>
          </div>
          <div >
            <br>
            <div *ngIf="!isExistingTeamSelected">
          <h5>A new Team Name</h5>
          <br>
          <input type="text" name="rulename" [(ngModel)]="teamName" placeholder="Team Name">
          <br>
        </div>
       
</div>
<div *ngIf="!isExistingTeamSelected">

          <br>
          <h5>To</h5>
          <br>
          <div id="container">
            <input type="email" name="email" [(ngModel)]="receiverEmail" placeholder="Receiver Mail" class="newinput">
              <button id="addButton" (click)="addInput()">Add</button>
            <br>
            <ul class="my-list">
              <li *ngFor="let email of receiverEmails">
                {{ email }}
              </li>
            </ul>
          </div>

          <br>
          <br>
        </div>
          <div class="toast" id="toast-message"></div>

      </section>
      <div class="battounet">
        <a class="battouna">Discard</a>
        <div class="dialog-container" *ngIf="showDialog" >
          <div class="dialog-content">
            <h2 class="dialog-title">Alert Configuration</h2>
            <p>Do you want to set Another Rule.</p>
            <div class="dialog-buttons">
              <button mat-button (click)="setAnotherRule()">Set Another Rule</button>
              <button mat-button (click)="closeDialog()">Continue</button>

            </div>
          </div>
        </div>
        
        <a class="battouna" (click)="save()">Save</a>
      </div>
    </main>

      <!-- MAIN -->
  </section>     


  <!-- CONTENT -->
  </body>

